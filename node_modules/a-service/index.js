var env = require('./env');

var app = require('electron').remote.app;

var basePath = app.getPath('appData') + '/leanote';
env.setDataBasePath(basePath);

// 数据库初始化
var db = require('./db');
db.initGlobal();

// 所有service, 与数据库打交道
var Service = {
  api: require('./api'),
  common: require('./common'),
  env: require('./env'),
  file: require('./file'),
	notebook: require('./notebook'),
	note: require('./note'),
  sync: require('./sync'),
	tag: require('./tag'),
  user: require('./user'),
  web: require('./web'),
};

// 分发服务
Service.dispatch = function() {};

console.log("service loaded");
module.exports = Service;
